<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="gmR2fDqjgLN49m4mW_EsnwTKedrllWiOodcWTsKlycI" />














  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="JamesLimer&#39;s blog">
<meta property="og:url" content="https://jamesliemr.com/index.html">
<meta property="og:site_name" content="JamesLimer&#39;s blog">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://jamesliemr.com/"/>





  <title>JamesLimer's blog</title>
  








<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">JamesLimer's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Welcome!</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jamesliemr.com/2020/03/11/CVPR%202019%20Deeper%20and%20Wider%20Siamese%20Networks%20for%20Real-Time%20Visual%20Tracking%20%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JamesLimer's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/11/CVPR%202019%20Deeper%20and%20Wider%20Siamese%20Networks%20for%20Real-Time%20Visual%20Tracking%20%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" itemprop="url">CVPR 2019 Deeper and Wider Siamese Networks for Real-Time Visual Tracking 阅读笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-11T16:24:53+08:00">
                2020-03-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Machine-learning/" itemprop="url" rel="index">
                    <span itemprop="name">Machine learning</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2020/03/11/CVPR%202019%20Deeper%20and%20Wider%20Siamese%20Networks%20for%20Real-Time%20Visual%20Tracking%20%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" class="leancloud_visitors" data-flag-title="CVPR 2019 Deeper and Wider Siamese Networks for Real-Time Visual Tracking 阅读笔记">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.9k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  7
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Deeper-and-Wider-Siamese-Networks-for-Real-Time-Visual-Tracking"><a href="#Deeper-and-Wider-Siamese-Networks-for-Real-Time-Visual-Tracking" class="headerlink" title="Deeper and Wider Siamese Networks for Real-Time Visual Tracking"></a>Deeper and Wider Siamese Networks for Real-Time Visual Tracking</h2><p>Abstract:</p>
<p>Siamese networks have drawn great attention in visual tracking because of their balanced accuracy and speed. However, the backbone networks used in Siamese trackers are relatively shallow, such as AlexNet [18], which does not fully take advantage of the capability of modern deep neural networks. In this paper, we investigate how to leverage deeper and wider convolutional neural networks to enhance tracking robustness and accuracy. We observe that direct replacement of backbones with existing powerful architectures, such as ResNet [14] and Inception [33], does not bring improvements. The main reasons are that 1)large increases in the receptive field of neurons lead to reduced feature discriminability and localization precision; and 2) the network padding for convolutions induces a positional bias in learning. To address these issues, we propose new residual modules to eliminate the negative impact of padding, and further design new architectures using these modules with controlled receptive field size and network stride. The designed architectures are lightweight and guarantee real-time tracking speed when applied to SiamFC [2] and SiamRPN [20]. Experiments show that solely due to the proposed network architectures, our SiamFC+ and SiamRPN+ obtain up to 9.8%/5.7% (AUC), 23.3%/8.8% (EAO) and 24.4%/25.0% (EAO) relative improvements over the original versions [2, 20] on the OTB-15, VOT-16 and VOT-17 datasets, respectively.</p>
<h3 id="这篇文章要解决什么问题"><a href="#这篇文章要解决什么问题" class="headerlink" title="这篇文章要解决什么问题?"></a>这篇文章要解决什么问题?</h3><h4 id="大背景"><a href="#大背景" class="headerlink" title="大背景:"></a>大背景:</h4><p>一句话来说就是:<br><strong>现在的孪生神经网络的目标追踪算法普遍使用比较浅的卷机神经网络, 更深的神经网络并不能起到更好的效果.</strong></p>
<h4 id="作者改进的方向"><a href="#作者改进的方向" class="headerlink" title="作者改进的方向:"></a>作者改进的方向:</h4><p>一句话来说就是:<br><strong>通过分析原因, 针对padding的改进了深度卷积神经网络的机制(提出了一个极有用的最小改进), 使得深度网络可以使用在目标追踪的任务中.</strong></p>
<h3 id="这篇文章是如何做出假设的"><a href="#这篇文章是如何做出假设的" class="headerlink" title="这篇文章是如何做出假设的?"></a>这篇文章是如何做出假设的?</h3><h4 id="先是直觉性解释"><a href="#先是直觉性解释" class="headerlink" title="先是直觉性解释:"></a>先是直觉性解释:</h4><p>作者提到可能的解释是<strong>现有的更深和更宽的神经网络是根据目标识别任务来设计的, 物体的定位并不是主要目的</strong>, 但是目标追踪需要精确的目标定位和表达, 所以现有的网络会出现问题.</p>
<h4 id="深入研究和分析"><a href="#深入研究和分析" class="headerlink" title="深入研究和分析:"></a>深入研究和分析:</h4><p>为了落实在具体的改进点上, 作者分析得到问题在三个主要因素的影响:</p>
<ul>
<li><p>感受野范围</p>
<p><strong>感受野的范围决定了一个特征是由多大的区域集合而成的.</strong></p>
</li>
<li><p>卷积的步长</p>
<p><strong>卷积的步长决定了确定位置的精确度, 尤其是对于小物体.</strong></p>
</li>
<li><p>padding</p>
<p><strong>padding引入了一个潜在的位置偏移</strong>, 当物体接近搜索图的边缘的时候, 由于padding的存在这个物体可能会难以被检测到.</p>
</li>
</ul>
<h3 id="作者是如何深入分析的呢"><a href="#作者是如何深入分析的呢" class="headerlink" title="作者是如何深入分析的呢?"></a>作者是如何深入分析的呢?</h3><p>作者是用了消融实验, 从定量和定性的两个方面来分析可能的原因, 确定原因后依照实验结果作为参考, 提出了具体的改进:</p>
<h4 id="定量分析"><a href="#定量分析" class="headerlink" title="定量分析:"></a>定量分析:</h4><p>作者根据不同网络骨架, 分别进行了对比实验, 用AUC的结果来衡量网络的能力:</p>
<p>![CVPR 2019 Deeper and Wider Siamese Networks for Real-Time Visual Tracking 阅读笔记 image_1](CVPR 2019 Deeper and Wider Siamese Networks for Real-Time Visual Tracking 阅读笔记.assets/CVPR 2019 Deeper and Wider Siamese Networks for Real-Time Visual Tracking 阅读笔记 image_1.png)</p>
<img src="/images/CVPR 2019 Deeper and Wider Siamese Networks for Real-Time Visual Tracking 阅读笔记.assets/CVPR 2019 Deeper and Wider Siamese Networks for Real-Time Visual Tracking 阅读笔记 image_2.png" alt="CVPR 2019 Deeper and Wider Siamese Networks for Real-Time Visual Tracking 阅读笔记 image_2" style="zoom:50%;" />

<p>在这两张图中:</p>
<ul>
<li>RF: 感受野</li>
<li>STR: 步长</li>
<li>OFS: 输出特征大小</li>
<li>PAD: 是否padding</li>
<li>W: 宽度(inception的宽度)</li>
</ul>
<h5 id="分析"><a href="#分析" class="headerlink" title="分析:"></a>分析:</h5><ul>
<li><p>步长: </p>
<ul>
<li><p><strong>在其他条件不变的情况下, 从4到8到16, 结果显著下降.</strong> </p>
<ul>
<li>10 <em>vs</em>. 3 <em>vs</em>. 9 on AlexNet and VGG.</li>
<li>9 <em>vs</em>. 2 <em>vs</em>. 8 on Incep. and ResNet.</li>
</ul>
<p>分析: 这说明了孪生神经网络目标追踪算法更需要中等层次的精细度.</p>
</li>
</ul>
</li>
<li><p>感受野:</p>
<ul>
<li><p><strong>最佳感受野范围应该是输入的图像z的60%∼80%, 且和网络的种类无关.</strong></p>
<ul>
<li>3 <em>to</em>. 7 on AlexNet and VGG.</li>
<li>3 <em>to</em>. 7 on Incep. and ResNet.</li>
</ul>
<p>分析: 这说明了感受野的大小对于特征的聚合有很大的影响, 太大的感受野会使得目标的位置信息不明确, 太小的感受野又没办法抓取到整个物体的信息, 区分度会不够.</p>
</li>
</ul>
</li>
<li><p>输出特征大小:</p>
<ul>
<li><p>按照观察到的信息, <strong>小的输出特征大小不能对结果有所增益</strong></p>
<p>分析: 这是因为小的特征图没有足够的空间结构信息来表达物体, 所以不够鲁棒.</p>
</li>
</ul>
</li>
<li><p>padding:</p>
<ul>
<li><p><strong>Padding会极大的降低网络的结果</strong></p>
<ul>
<li>5 <em>vs</em>. 6 on AlexNet and VGG</li>
<li>4 <em>vs</em>. 5 on Incep. and ResNet</li>
</ul>
<p>分析: 作者做了更进一步的分析, 参考Table2.</p>
</li>
</ul>
</li>
</ul>
<h5 id="总结"><a href="#总结" class="headerlink" title="总结:"></a>总结:</h5><p>总的来说, 在提出问题, 做出假设之后, 可以设定实验来验证且具有一定说服力; 作者的这一方法很值得学习.也有一些我自己的看法:</p>
<ul>
<li>步长有三组对比实验, 分别是4, 8, 16. 这样很扎实, 可以改进的点是可以在感受野是+0的情况下进行, +16的情况可能会有特殊(这样其实也已经可以说明问题了).</li>
<li>感受野应该是作者分析的实验组最多的了, 这个部分做的很值得学习, 多组对比得到分析结果.</li>
<li>输出特征大小其实是取决于感受野和步长的, 所以没什么可说的, 作者的分析也是很直观.</li>
<li>padding的部分让我有些疑惑, 为什么padding不是一个网络对比, 而是不同的网络进行对比, 这有一些奇怪.</li>
</ul>
<h4 id="定性分析"><a href="#定性分析" class="headerlink" title="定性分析:"></a>定性分析:</h4><p>主要是解释了padding的问题, 如果进行padding, 那么虽然所有的examplar image得到的特征都是padding过的, 但是search image得到的特征就是有些是padding了的, 有些并没有发生padding. 由于两种特征的不兼容, 会降低结果的精度. 作者用下图补充了他的结果:</p>
<img src="/images/CVPR 2019 Deeper and Wider Siamese Networks for Real-Time Visual Tracking 阅读笔记.assets/CVPR 2019 Deeper and Wider Siamese Networks for Real-Time Visual Tracking 阅读笔记 image_3.png" style="zoom:50%;" />

<p>分析后得到的结论:</p>
<ol>
<li>目标追踪算法的孪生神经网络需要较小的步长, 这决定了精度, 且不应该随着网络的加深而改变.</li>
<li>感受野要根据exemplar image的大小而改变(用crop已经解决了这一个问题.), 具体设置应该是60%到80%.</li>
<li>步长, 感受野, 输出特征大小应该作为整体来考虑, 因为他们是互相依赖的.</li>
<li>对于全卷积孪生神经网络, 注重两个网络得到的结果的一致性很重要. </li>
</ol>
<h3 id="作者是如何解决问题的"><a href="#作者是如何解决问题的" class="headerlink" title="作者是如何解决问题的?"></a>作者是如何解决问题的?</h3><p>作者主要的改进其实是针对padding的, 为了消除padding的影响, 作者提出了两种方法, <strong>一种是直接不使用padding, 另一种是把padding影响的部分给crop掉</strong>. 显然作者使用了后一种方法, 于是就有了作者提出的cropping-inside residual (CIR)模块.</p>
<h4 id="为什么不直接去掉padding呢"><a href="#为什么不直接去掉padding呢" class="headerlink" title="为什么不直接去掉padding呢?"></a>为什么不直接去掉padding呢?</h4><p>因为这样做的话ResNet这种残差结构就难以重复利用了.(因为在残差模块中有padding) 作者的目标是, 尽量小的改进的同时还可以利用之前网络的训练结果.</p>
<h4 id="具体方法"><a href="#具体方法" class="headerlink" title="具体方法:"></a>具体方法:</h4><p>其实看到这里基本上就已经算是结束了, 前面的分析应该是最厉害的部分, 后面的改进十分的直观, 就是把收到padding影响的部分crop掉进行剔除:</p>
<img src="/images/CVPR 2019 Deeper and Wider Siamese Networks for Real-Time Visual Tracking 阅读笔记.assets/CVPR 2019 Deeper and Wider Siamese Networks for Real-Time Visual Tracking 阅读笔记 image_4.png" style="zoom:50%;" />

<p>后面基本上是网络的架构设计的探索了, 有需要的时候再来参考吧.</p>
<h3 id="作者是如何实验总结的"><a href="#作者是如何实验总结的" class="headerlink" title="作者是如何实验总结的?"></a>作者是如何实验总结的?</h3><ul>
<li>和baseline进行对比实验</li>
<li>和最新的结果进行对比实验</li>
<li>和自己进行对比实验</li>
</ul>
<p>很直观, 不做评价…</p>
<h3 id="总结-1"><a href="#总结-1" class="headerlink" title="总结:"></a>总结:</h3><p>做科研重要的是如何提出问题, 提出问题后的分析和处理, 好的研究不是提出复杂的系统, 而是分析透彻后进行简单有效的改进, 这篇论文还是有很大的启发的.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jamesliemr.com/2020/03/10/CVPR-2016-Modeling-and-Propagating-CNNs-in-a-Tree-Structure-for-Visual-Tracking-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JamesLimer's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/10/CVPR-2016-Modeling-and-Propagating-CNNs-in-a-Tree-Structure-for-Visual-Tracking-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" itemprop="url">CVPR 2016 Modeling and Propagating CNNs in a Tree Structure for Visual Tracking 阅读笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-10T17:24:53+08:00">
                2020-03-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Machine-learning/" itemprop="url" rel="index">
                    <span itemprop="name">Machine learning</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2020/03/10/CVPR-2016-Modeling-and-Propagating-CNNs-in-a-Tree-Structure-for-Visual-Tracking-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" class="leancloud_visitors" data-flag-title="CVPR 2016 Modeling and Propagating CNNs in a Tree Structure for Visual Tracking 阅读笔记">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.2k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  4
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Modeling-and-Propagating-CNNs-in-a-Tree-Structure-for-Visual-Tracking"><a href="#Modeling-and-Propagating-CNNs-in-a-Tree-Structure-for-Visual-Tracking" class="headerlink" title="Modeling and Propagating CNNs in a Tree Structure for Visual Tracking"></a>Modeling and Propagating CNNs in a Tree Structure for Visual Tracking</h2><p>Abstract:<br>We present an online visual tracking algorithm by managing multiple target appearance models in a tree structure. The proposed algorithm employs Convolutional Neural Networks (CNNs) to represent target appearances, where multiple CNNs collaborate to estimate target states and determine the desirable paths for online model updates in the tree. By maintaining multiple CNNs in diverse branches of tree structure, it is convenient to deal with multi-modality in target appearances and preserve model reliability through smooth updates along tree paths. Since multiple CNNs share all parameters in convolutional layers, it takes advantage of multiple models with little extra cost by saving memory space and avoiding redundant network evaluations. The final target state is estimated by sampling target candidates around the state in the previous frame and identifying the best sample in terms of a weighted average score from a set of active CNNs. Our algorithm illustrates outstanding performance compared to the state-of-the-art techniques in challenging datasets such as online tracking benchmark and visual object tracking challenge.</p>
<h3 id="这篇文章要解决什么问题"><a href="#这篇文章要解决什么问题" class="headerlink" title="这篇文章要解决什么问题?"></a>这篇文章要解决什么问题?</h3><h4 id="大问题"><a href="#大问题" class="headerlink" title="大问题:"></a>大问题:</h4><p>一句话来说就是:<br><strong>这篇文章要解决CNN在在线更新的过程中容易忘记先前学到的信息的问题.</strong></p>
<p>这篇文章是在目标追踪算法中的特征提取部分进行改进, 当时的目标追踪算法是进行在线更新的. 但是, 类似于LSTM, CNN的在线更新也面临着难以记住早期信息的问题. </p>
<h4 id="已有的探索基础"><a href="#已有的探索基础" class="headerlink" title="已有的探索基础:"></a>已有的探索基础:</h4><p>一句话来说就是:<br><strong>维护一个大的模型集合, 然后更新其中的一部分, 来在保留先前特征的同时得到更好的结果.</strong></p>
<p><a href="">引用的论文</a>保留了多个时间步中的各个版本的模型作为一个大集合, 通过选择性的更新所有模型中的一个子集, 来保留历史信息. 说人话就是:</p>
<h4 id="改进的方向"><a href="#改进的方向" class="headerlink" title="改进的方向:"></a>改进的方向:</h4><p>一句话来说就是:<br><strong>引入了CNN模型的可信度, 建立了按照模型的可信度进行更新的策略.</strong></p>
<p>作者认为上面这篇引用的论文忽视了每个CNN提取特征的可信度, 如果不按照可信度来进行更新, 可以想到模型虽然能保留历史的信息, 但是更新的结果可能依然不理想.</p>
<h3 id="这篇文章提出了什么模型"><a href="#这篇文章提出了什么模型" class="headerlink" title="这篇文章提出了什么模型?"></a>这篇文章提出了什么模型?</h3><p>一句话来说就是:<br><strong>作者提出了一种树状结构来保留历史信息, 来选择性的对模型分支进行更新.</strong></p>
<p>作者认为每一个历史模型的可信度是不一样的, 所以作者将历史的模型按照树的方式建模, 每一个分支追踪不同的历史更新, 更新分支的方式是按照结果对目标最大的相似度衡量来确定的.作者认为这种方法不仅可以得到多模态的物体特征表达, 同时也可以在更新时提高模型稳定性.</p>
<p>看了部分的模型介绍后, 我认为作者的模型的准确度的衡量是基于objectScore的基础上的, 这个Score是有两种, 一种是每一个树的分支上的, 一种是当前的模型上的, 最后根据这些的结果, 来得到最有效的信息和更新的策略.主要的模型构建是落在树结构的构建, 置信度的计算和模型更新的策略上. <strong>(第一次读的目标只是了解一个大概, 需要时再进行回顾吧!)</strong></p>
<h3 id="结果是如何分析的"><a href="#结果是如何分析的" class="headerlink" title="结果是如何分析的?"></a>结果是如何分析的?</h3><p>总的来说, 分析分为三部分:</p>
<ol>
<li><p>变量为难任务类型, 和现有的算法进行对比.</p>
<p>这一部分最具有说服力, 主要在于衡量各种较难的情况下, 提出的算法都可以较好的工作并超出其他算法. 作者也有一些对结果的分析, 不仅认为结果证明有效, 且分析其它算法的问题可能在于<strong>随着CNN层数的增加, 高层的CNN特征无法提出足够的空间特征</strong>的问题. 同时, 也找到了TCNN(本文算法)的不足: 不能很好的处理在视野外的问题, <strong>并证明了其合理性</strong>. (不好, 也要合理才有说服力.)</p>
</li>
<li><p>变量为模型构建方式, 和自己进行对比.</p>
<p>这一部分主要排除了一些设计上的问题, 证明了模型设计上的正确性.</p>
</li>
<li><p>相同数据集, 和所有其他的算法进行对比.</p>
<p>这一部分比较泛泛, 就是证明自己的模型和其他模型的相对表现.</p>
</li>
</ol>
<p>可以感觉到, 作者的基本功非常扎实, 每一步的论证都很完整, 可以多学习, 希望以后自己也能写出差不多的论文!!</p>
<h3 id="作者提到了多模态-什么是多模态呢"><a href="#作者提到了多模态-什么是多模态呢" class="headerlink" title="作者提到了多模态, 什么是多模态呢?"></a>作者提到了多模态, 什么是多模态呢?</h3><p>可以参考这一篇文章:<br><a href="https://blog.csdn.net/electech6/article/details/85142769" target="_blank" rel="noopener">CSDN计算机视觉life的文章</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/63143789" target="_blank" rel="noopener">多模态机器学习综述</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jamesliemr.com/2020/03/04/Unity-Inputs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JamesLimer's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/04/Unity-Inputs/" itemprop="url">Unity Inputs</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-04T16:14:26+08:00">
                2020-03-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%B8%B8%E6%88%8F%E5%88%B6%E4%BD%9C%E5%92%8C%E5%BB%BA%E6%A8%A1/" itemprop="url" rel="index">
                    <span itemprop="name">游戏制作和建模</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2020/03/04/Unity-Inputs/" class="leancloud_visitors" data-flag-title="Unity Inputs">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  254
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Unity-Input-Module"><a href="#Unity-Input-Module" class="headerlink" title="Unity Input Module"></a>Unity Input Module</h2><p>Unity的输入模块, 用来得到用户的按键操作. 这个模块收录了大部分传统的按键(包括手机), 在编程的时候使用Input下的方法就可以访问.</p>
<h3 id="正常输入"><a href="#正常输入" class="headerlink" title="正常输入:"></a>正常输入:</h3><p>使用<a href="https://docs.unity3d.com/ScriptReference/Input.GetAxis.html" target="_blank" rel="noopener">Input.GetAxis</a>来得到:</p>
<ul>
<li>“Horizontal”和”Vertical”的值, 分别对应”A, W, S, D”和方向键. </li>
<li>“Mouse X”和”Mouse Y”的值, 对应鼠标的x, y的偏移量.</li>
<li>“Fire1”, “Fire2”, “Fire3”对应的分别是Ctrl, Alt和Cmd.</li>
</ul>
<p>也可以新加一些输入, 具体的参考<a href="https://docs.unity3d.com/Manual/class-InputManager.html" target="_blank" rel="noopener">Input Manager</a>.</p>
<p>使用<a href="https://docs.unity3d.com/ScriptReference/Input.GetButton.html" target="_blank" rel="noopener">Input.GetButton</a>来得到对应按键的事件是否按下.<br>(doc上的意思是最好不要用做运动, 因为<a href="https://docs.unity3d.com/ScriptReference/Input.GetAxis.html" target="_blank" rel="noopener">Input.GetAxis</a>会更加简单?)</p>
<h3 id="手机终端输入"><a href="#手机终端输入" class="headerlink" title="手机终端输入:"></a>手机终端输入:</h3><p>使用<a href="https://docs.unity3d.com/ScriptReference/Input-touches.html" target="_blank" rel="noopener">Input.touches</a>来得到每一个手指的输入状态;<br>使用<a href="https://docs.unity3d.com/ScriptReference/Input-acceleration.html" target="_blank" rel="noopener">Input.acceleration</a>来得到对应的加速度;<br>使用<a href="https://docs.unity3d.com/ScriptReference/Input-accelerationEvents.html" target="_blank" rel="noopener">Input.accelerationEvents</a>来读取所有的加速度序列;<br>使用<a href="https://docs.unity3d.com/ScriptReference/Input-deviceOrientation.html" target="_blank" rel="noopener">Input.deviceOrientation</a>来得到手机在三维空间中的方向;</p>
<h3 id="方法和属性"><a href="#方法和属性" class="headerlink" title="方法和属性:"></a>方法和属性:</h3><p>参考: <a href="https://docs.unity3d.com/ScriptReference/Input.html" target="_blank" rel="noopener">https://docs.unity3d.com/ScriptReference/Input.html</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jamesliemr.com/2020/03/03/CSS-How-To-Add/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JamesLimer's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/03/CSS-How-To-Add/" itemprop="url">CSS 如何添加至HTML</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-03T17:01:00+08:00">
                2020-03-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2020/03/03/CSS-How-To-Add/" class="leancloud_visitors" data-flag-title="CSS 如何添加至HTML">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  311
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="如何添加CSS"><a href="#如何添加CSS" class="headerlink" title="如何添加CSS"></a>如何添加CSS</h2><p>共有三种方法向HTML文本中添加CSS:</p>
<ul>
<li>External CSS</li>
<li>Internal CSS</li>
<li>Inline CSS</li>
</ul>
<h3 id="External-CSS"><a href="#External-CSS" class="headerlink" title="External CSS"></a>External CSS</h3><p>外部CSS引用的好处就是可以将多种定义都集成在一个文件里, 方便管理也十分的优雅.<br>具体的插入方法是在head标签中添加link标签:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"mystyle.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>外部的CSS文件内不应该包括任何的HTML标签, 注意type, rel和href就好.</p>
<h3 id="Internal-CSS"><a href="#Internal-CSS" class="headerlink" title="Internal CSS"></a>Internal CSS</h3><p>对于内部的CSS定义, 我们直接把他写在style标签中, 同样也是在head里面:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">body &#123;</span><br><span class="line">  background-color: linen;</span><br><span class="line">&#125;</span><br><span class="line">h1 &#123;</span><br><span class="line">  color: maroon;</span><br><span class="line">  margin-left: 40px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>语法也是一样的.</p>
<h3 id="Inline-CSS"><a href="#Inline-CSS" class="headerlink" title="Inline CSS"></a>Inline CSS</h3><p>行内的CSS写在标签后面的style属性里面, 记得加双引号:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">"color:blue;text-align:center;"</span>&gt;</span>This is a heading<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"color:red;"</span>&gt;</span>This is a paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="多个CSS定义冲突处理"><a href="#多个CSS定义冲突处理" class="headerlink" title="多个CSS定义冲突处理:"></a>多个CSS定义冲突处理:</h3><p>顺序是:</p>
<ol>
<li>Inline style (inside an HTML element)</li>
<li>External and internal style sheets (in the head section)</li>
<li>Browser default</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jamesliemr.com/2020/03/03/CSS-Simple-Selectors/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JamesLimer's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/03/CSS-Simple-Selectors/" itemprop="url">CSS 如何选择目标</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-03-03T16:47:59+08:00">
                2020-03-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2020/03/03/CSS-Simple-Selectors/" class="leancloud_visitors" data-flag-title="CSS 如何选择目标">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  330
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="CSS-Selectors"><a href="#CSS-Selectors" class="headerlink" title="CSS Selectors"></a>CSS Selectors</h2><p>在构建CSS文件时, 有多种方法来对目标进行选择:</p>
<ul>
<li>Simple selectors (基于 name, id, class进行选择, <strong><u>这篇文章就写这一部分</u></strong>.)</li>
<li>Combinator selectors (基于特定的元素间关系选择)</li>
<li>Pseudo-class selectors (基于特定的表达进行选择)</li>
<li>Pseudo-elements selectors (对于一个元素的部分进行选择)</li>
<li>Attribute selectors (对于拥有特定的Attribute进行选择)</li>
</ul>
<h3 id="The-CSS-element-Selector"><a href="#The-CSS-element-Selector" class="headerlink" title="The CSS element Selector:"></a>The CSS element Selector:</h3><p>对于标签进行选择的时候什么都不加就好, 例:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>改变html里面标签为p的部分(比较广泛).</p>
<h3 id="The-CSS-id-Selector"><a href="#The-CSS-id-Selector" class="headerlink" title="The CSS id Selector"></a>The CSS id Selector</h3><p>对于id进行选择, 用#进行开头, 例:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#para1</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在html里面就是改变id=”para1”的css.</p>
<h3 id="The-CSS-class-Selector"><a href="#The-CSS-class-Selector" class="headerlink" title="The CSS class Selector"></a>The CSS class Selector</h3><p>对于指定的class进行选择, 用.进行开头, 例:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在html里面就是改变class=”center”的css, 还有另一种, 是对特定的标签下面的class进行修改, 例:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样子就是对标签为p的class进行修改啦.</p>
<h3 id="The-CSS-Universal-Selector"><a href="#The-CSS-Universal-Selector" class="headerlink" title="The CSS Universal Selector"></a>The CSS Universal Selector</h3><p>那么怎么样对全局进行修改呢?</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="The-CSS-Grouping-Selector"><a href="#The-CSS-Grouping-Selector" class="headerlink" title="The CSS Grouping Selector"></a>The CSS Grouping Selector</h3><p>如果对多个元素进行同样的操作的话, CSS也支持进行group操作:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://jamesliemr.com/2020/02/29/About-Document-Analysis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JamesLimer's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/29/About-Document-Analysis/" itemprop="url">版面分析相关比赛和介绍</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-02-29T13:51:54+08:00">
                2020-02-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Machine-learning/" itemprop="url" rel="index">
                    <span itemprop="name">Machine learning</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2020/02/29/About-Document-Analysis/" class="leancloud_visitors" data-flag-title="版面分析相关比赛和介绍">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  219
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="关于版面分析比赛"><a href="#关于版面分析比赛" class="headerlink" title="关于版面分析比赛:"></a>关于版面分析比赛:</h2><p>最新的比赛是在<a href="https://www.primaresearch.org/RDCL2019/" target="_blank" rel="noopener">ICDAR2019 Competition on Recognition of Documents with Complex Layouts</a>, 网站中提供了相关数据集. </p>
<p>比赛目标是进行端到端的页面分割, 区域分类和文字识别. </p>
<p>数据集包括了扫描好的杂志和文章页面, 和对应的工具.</p>
<h4 id="关于ICDAR会议"><a href="#关于ICDAR会议" class="headerlink" title="关于ICDAR会议:"></a>关于ICDAR会议:</h4><p>文档分析与识别国际会议 (International Conference on Document Analysis and Recognition, ICDAR) 是由国际模式识别学会（IAPR）组织的专业会议之一, 是一个非常成功的文本分析会议</p>
<p>官网: <a href="https://icdar2019.org/" target="_blank" rel="noopener">ICDAR2019</a></p>
<p>数据集官网: <a href="https://www.primaresearch.org/" target="_blank" rel="noopener">PRImA</a></p>
<h3 id="数据集和评价方法"><a href="#数据集和评价方法" class="headerlink" title="数据集和评价方法:"></a>数据集和评价方法:</h3><p>数据集是<a href="https://www.primaresearch.org/dataset/index.php" target="_blank" rel="noopener">PRImA Layout Analysis Dataset</a>的子集.</p>
<p>测试工具可以在<a href="https://www.primaresearch.org/tools" target="_blank" rel="noopener">PRImA website</a>上找到</p>
<h3 id="一些其它数据集"><a href="#一些其它数据集" class="headerlink" title="一些其它数据集:"></a>一些其它数据集:</h3><h4 id="PubLayNet"><a href="#PubLayNet" class="headerlink" title="PubLayNet:"></a><a href="https://github.com/ibm-aur-nlp/PubLayNet" target="_blank" rel="noopener">PubLayNet</a>:</h4><p>(IBM提出的数据集, 获得ICDAR2019 Best paper)大约100G, 按照COCO的数据格式进行标注. </p>
<p><a href="https://developer.ibm.com/exchanges/data/all/publaynet/" target="_blank" rel="noopener">下载地址</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">John Doe</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">4.2k</span>
  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("P0Xx21EXAjctw5UYWY4ISfSd-MdYXbMMI", "zx8KfhNVjlUbPOMpAEIhczA7");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
